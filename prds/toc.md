# Table of Contents

> Compound Engineering: Master AI-Assisted Development with Claude Code

---

## Part I: Foundations (Beginner)

### Chapter 1: The Compound Systems Engineer
- What is compound engineering?
- The shift from typing code to orchestrating systems
- Your new identity: meta-engineer
- The economics of AI-assisted development
- **Source**: `my-doctrine.md`, `the-meta-engineer-identity.md`

### Chapter 2: Getting Started with Claude Code
- Installing Claude Code CLI
- Your first conversation
- Understanding the tool ecosystem
- When to use Claude Code vs other tools
- **Source**: `cursor-agent-workflows.md`, `llm-usage-modes-explore-vs-implement.md`

### Chapter 3: Prompting Fundamentals (NEW)
- The anatomy of effective prompts
- Chain-of-thought prompting for complex tasks
- Constraint-based prompting
- Few-shot prompting with project examples
- Upfront questioning to narrow search space
- Common prompting anti-patterns
- **Source**: `chain-of-thought-prompting.md`, `constraint-based-prompting.md`, `few-shot-prompting-project-examples.md`, `upfront-questioning-narrows-search-space.md`

### Chapter 4: Writing Your First CLAUDE.md
- What is CLAUDE.md and why it matters
- Anatomy of an effective CLAUDE.md
- Project-specific vs global instructions
- Hierarchical rule files and collocation
- Common mistakes and how to avoid them
- **Source**: `writing-a-good-claude-md.md`, `hierarchical-rule-files-collocation.md`, `layered-prompts-architecture.md`

---

## Part II: Core Techniques (Intermediate)

### Chapter 5: The 12-Factor Agent
- Principles for production-ready LLM agents
- Factor by factor breakdown with examples
- How each factor compounds over time
- Implementing factors with Agent SDK v2
- **Source**: `12-factor-agents.md`, `agent-reliability-chasm.md`

### Chapter 6: The Verification Ladder
- Six levels of verification (types to formal proofs)
- Choosing the right level for each task
- Verification sandwich pattern
- Property-based testing for generated code
- **Source**: `verification-ladder.md`, `verification-sandwich-pattern.md`, `property-based-testing.md`

### Chapter 7: Quality Gates That Compound
- Gates as information filters
- Pre-commit hooks with Claude Code
- Automated code review in CI
- Building gates that teach the agent
- Type-driven development as the first gate
- **Source**: `quality-gates-as-information-filters.md`, `claude-code-hooks-quality-gates.md`, `llm-code-review-ci.md`, `compounding-effects-quality-gates.md`

### Chapter 8: Error Handling & Debugging (NEW)
- Five-point error diagnostic framework
- Context debugging framework
- Error messages as training data (ERRORS.md)
- Flaky test diagnosis and systematic fixes
- Clean slate trajectory recovery
- Learning loops: encoding problems into prevention
- **Source**: `five-point-error-diagnostic-framework.md`, `context-debugging-framework.md`, `error-messages-as-training.md`, `flaky-test-diagnosis-script.md`, `clean-slate-trajectory-recovery.md`, `learning-loops-encoding-problems-into-prevention.md`

---

## Part III: Advanced Patterns (Advanced)

### Chapter 9: Context Engineering Deep Dive
- Information theory for coding agents
- Entropy in code generation
- Progressive disclosure of context
- Hierarchical context patterns
- Managing context rot
- Prompt caching strategy
- **Source**: `information-theory-coding-agents.md`, `entropy-in-code-generation.md`, `progressive-disclosure-context.md`, `context-rot-auto-compacting.md`, `prompt-caching-strategy.md`

### Chapter 10: The RALPH Loop
- Fresh context iteration pattern
- Building the task queue
- Memory through git and docs
- Multi-agent coordination
- Running agents overnight (24/7 development)
- **Source**: `ralph-loop.md`, `24-7-development-strategy.md`, `learning-loops-encoding-problems-into-prevention.md`

### Chapter 11: Sub-Agent Architecture
- When to delegate to sub-agents
- Accuracy vs latency tradeoffs
- Agent swarm patterns
- Actor-critic adversarial coding
- Parallel agents for monorepos
- Skills system and custom sub-agents
- **Source**: `sub-agent-architecture.md`, `sub-agents-accuracy-vs-latency.md`, `agent-swarm-patterns-for-thoroughness.md`

### Chapter 12: Development Workflows (NEW)
- Plan mode: strategic thinking before implementation
- Git worktrees for parallel development
- Incremental development pattern
- Ad-hoc flows to deterministic scripts
- Playwright script loop for browser automation
- AST-grep for precision code transformations
- **Source**: `plan-mode-strategic.md`, `git-worktrees-parallel-dev.md`, `incremental-development-pattern.md`, `ad-hoc-flows-to-deterministic-scripts.md`, `playwright-script-loop.md`, `ast-grep-for-precision.md`

---

## Part IV: Production Systems (Expert)

### Chapter 13: Building the Harness
- The four-layer harness architecture
- Building the factory, not just the product
- Infrastructure that compounds
- Telemetry-driven optimization
- **Source**: `building-the-harness.md`, `building-the-factory.md`, `closed-loop-telemetry-driven-optimization.md`

### Chapter 14: The Meta-Engineer Playbook
- Prompts as the asset, not the code
- Skill atrophy: what to keep, what to let go
- The six waves of AI coding
- Institutional memory and learning files
- **Source**: `ad-hoc-flows-to-deterministic-scripts.md`, `prompts-are-the-asset-not-the-code.md`, `six-waves-of-ai-coding.md`, `institutional-memory-learning-files.md`

### Chapter 15: Model Strategy & Cost Optimization (NEW)
- Model switching strategy (Haiku/Sonnet/Opus)
- Cost protection with multi-layer timeouts
- Provider-agnostic approach
- When to use YOLO mode (dangerously skip permissions)
- Skills system for workflow automation
- Measuring and optimizing AI spend
- **Source**: `model-switching-strategy.md`, `ai-cost-protection-timeouts.md`, `model-provider-agnostic-approach.md`

### Chapter 16: Building Autonomous Systems
- The RALPH loop architecture in practice
- Task scoring algorithms: priority, type, blocking, and age factors
- Adversarial review agents (7 specialized reviewers)
- Custom agentic skills (visual verification with Gemini)
- Memory architecture: progress files, task queues, git checkpoints
- Compound effects: infrastructure investment that pays dividends
- **Source**: `ralph-loop.md`, `agent-swarm-patterns-for-thoroughness.md`, `building-the-harness.md`

---

## Appendices

### Appendix A: CLAUDE.md Templates
- Starter template
- Full-stack project template
- Monorepo template
- API-focused template

### Appendix B: Prompt Library
- Common prompts for everyday tasks
- Debugging prompts
- Refactoring prompts
- Testing prompts

### Appendix C: Troubleshooting
- Common failures and fixes
- Context debugging framework
- Five-point error diagnostic

### Appendix D: Further Reading
- Thought leaders to follow
- Key blog posts and resources
- Community resources

---

## Word Count Targets

| Section | Target Words | Chapters |
|---------|--------------|----------|
| Part I: Foundations | 10,000-14,000 | 4 |
| Part II: Core Techniques | 14,000-18,000 | 4 |
| Part III: Advanced Patterns | 14,000-18,000 | 4 |
| Part IV: Production Systems | 12,000-18,000 | 4 |
| Appendices | 5,000-8,000 | 4 |
| **Total** | **53,000-72,000** | **19** |

---

## Diagram Requirements

Each chapter should have 2-4 diagrams. Priority diagrams:
- [ ] The compound engineering flywheel (Ch 1)
- [ ] Claude Code tool ecosystem (Ch 2)
- [ ] Prompt anatomy diagram (Ch 3)
- [ ] CLAUDE.md hierarchy (Ch 4)
- [ ] 12-factor agent overview (Ch 5)
- [ ] Verification ladder visual (Ch 6)
- [ ] Quality gate pipeline (Ch 7)
- [ ] Error diagnostic flowchart (Ch 8)
- [ ] Context window anatomy (Ch 9)
- [ ] RALPH loop cycle (Ch 10)
- [ ] Sub-agent architecture (Ch 11)
- [ ] Development workflow diagram (Ch 12)
- [ ] Four-layer harness (Ch 13)
- [ ] Six waves timeline (Ch 14)
- [ ] Model selection decision tree (Ch 15)
- [ ] RALPH architecture diagram (Ch 16)
- [ ] Adversarial review agents flowchart (Ch 16)
- [ ] Skill anatomy diagram (Ch 16)

---

## New Chapters Summary

### Chapter 3: Prompting Fundamentals
**Rationale**: Currently missing foundational prompting content. Users need to understand effective prompting before CLAUDE.md.
**Key Concepts**: Chain-of-thought, constraint-based prompting, few-shot examples, upfront questioning

### Chapter 8: Error Handling & Debugging
**Rationale**: Error handling scattered across multiple chapters. Consolidates debugging patterns into cohesive chapter.
**Key Concepts**: Five-point diagnostic, context debugging, ERRORS.md, flaky tests, clean slate recovery

### Chapter 12: Development Workflows
**Rationale**: Plan mode, git worktrees, and scripting patterns need dedicated coverage.
**Key Concepts**: Plan mode, parallel development, incremental patterns, automation scripts

### Chapter 15: Model Strategy & Cost Optimization
**Rationale**: Replaces Case Studies chapter with actionable cost optimization content.
**Key Concepts**: Model switching, cost protection, YOLO mode, Skills system
